{% assign exps = site.data.experience | group_by:"year" %} 

<div class="page">
    <div class="page__demo">
      <div class="main-container page__container">
        <div class="timeline">
          
          {% for exp in exps %}  
          <div class="timeline__group">
            <span class="timeline__year">{{exp.name}}</span>

            {% for item in exp.items %}
            <div class="timeline__box">
              <div class="timeline__date">
                <span class="timeline__day">{{item.timeFrom | split: " " | first}}</span>
                <span class="timeline__month">{{item.timeFrom | split: " " | last}}</span>
              </div>
              <div class="timeline__post">

                
                
                
                <div class="timeline__content">
                  <div class="timelineHeader">
                    <h3>{{item.companyName}}</h3>
                    <span><img src="{{item.companyLogo}}" width="80" class="img-responsive" alt="" /></span>
                  </div>
                  <div class="timelineRole">
                    <p style="margin-right: 10px"><b>{{item.title}}</b></p>
                    <p>{{item.roles}}</p>
                  </div>

                  <a class="collapsible">Read more</a>
                  <div class="content">
                    <p class="timeDescription">{{item.description}}</p>
                    <p class="timeFromTo">{{item.timeFrom}} - {{item.timeTo}}</p>
                  </div>

                </div>
              </div>
            </div>
            {% endfor %}
          </div>
          {% endfor %}

        </div>
      </div>
    </div>
  </div>
  


<script>
  var coll = document.getElementsByClassName("collapsible");
  var i;
  
  for (i = 0; i < coll.length; i++) {
    coll[i].addEventListener("click", function() {
      this.classList.toggle("active");
      var content = this.nextElementSibling;
      if (content.style.maxHeight){
        content.style.maxHeight = null;
      } else {
        content.style.maxHeight = content.scrollHeight + "px";
      } 
    });
  }
</script>